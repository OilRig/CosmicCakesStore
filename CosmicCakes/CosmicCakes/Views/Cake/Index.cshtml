@model List<CosmicCakes.Models.CakesStartPageModel>
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
    var sectionCounter = 0;
}
@foreach (var cake in Model)
{

    if (sectionCounter % 2 == 0)
    {
        <div class="row">
            <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6 fader" style="padding-right: 0;" id="cakeImagesSetEven">
                <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6 changing-images-set" style="padding-right: 0;padding-left: 0;">
                    <img id="cakeImageFirst" src="@cake.ImagePaths.ElementAt(0)" class="img-responsive" style="display: block;" />
                    <img id="cakeImageSecond" src="@cake.ImagePaths.ElementAt(1)" class="img-responsive" />
                </div>
                <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6 changing-images-set" style="padding-left: 0; padding-right: 0;">
                    <img id="cakeImageThird" src="@cake.ImagePaths.ElementAt(2)" class="img-responsive" style="display: block;" />
                    <img id="cakeImageFourth" src="@cake.ImagePaths.ElementAt(3)"class="img-responsive" />
                </div>
            </div>
            <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6 centered-text" id="cakeInfoSet">
                <span></span>
                <div id="text-container">
                    <a id="showCake" class="cake-name century-gothic-text" data-cakeid="@cake.Id">@cake.Name</a>
                    <br/>
                    <div id="briefCake">
                        @cake.Description
                        <br/>
                        <p class="price"> от @cake.MinPrice р.</p>
                    </div>
                </div>
                <div class="childBackground" style="background-image: url(@cake.BackgroundImagePath)"></div>
            </div>
        </div>
    }
    else if (sectionCounter % 2 != 0)
    {
        <div class="row">
            
            <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6 centered-text">
                <span></span>
                <div id="text-container">
                    <a id="showCake" class="cake-name century-gothic-text" data-cakeid="@cake.Id">@cake.Name</a>
                    <br/>
                    <div id="briefCake">
                        @cake.Description
                        <br/>
                        <p class="price"> от @cake.MinPrice р.</p>
                    </div>
                </div>
                <div class="childBackground" style="background-image: url(@cake.BackgroundImagePath)"></div>
            </div>

            <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6 fader" style="padding-left: 0;" id="cakeImagesSetOdd">
                <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6" style="padding-right: 0; padding-left: 0;">
                    <img id="cakeImageFirst" src="@cake.ImagePaths.ElementAt(0)" class="img-responsive" style="display: block;"/>
                    <img id="cakeImageSecond" src="@cake.ImagePaths.ElementAt(1)" height="300" class="img-responsive"/>
                </div>
                <div id="changingImagesSet" class="col-xs-6 col-sm-6 col-md-6 col-lg-6" style="padding-left: 0; padding-right: 0;">
                    <img id="cakeImageThird" src="@cake.ImagePaths.ElementAt(2)" class="img-responsive" style="display: block;"/>
                    <img id="cakeImageFourth" src="@cake.ImagePaths.ElementAt(3)" class="img-responsive"/>
                </div>
            </div>
        </div>
    }
     sectionCounter++;
}

<script>
    (function ($) {
        $(document).ready(function () {
            $('#cakes').addClass("active");
            $('a#showCake').click(function () {
                var cakeId = $(this).data("cakeid");
                window.location.href = "/Cake/CakeInfo/" + cakeId;
            });
        });
    })
        (jQuery);
</script>
<script>
    (function ($) {
        $(document).ready(function () {

            $('a#showCake').hover(function () {
                $(this).parent().parent().find('div.childBackground').fadeTo('slow',0.9);
                $(this).parent().parent().addClass("cakeInfoSet");

            }).mouseout(function () {
                $(this).parent().parent().find('div.childBackground').fadeTo(100, 0);
                $(this).parent().parent().removeClass("cakeInfoSet");
            });
        });
    })(jQuery);
</script>
<script>
    (function ($) {
        $(document).ready(function () {
            var timedImagesForwardEven = setInterval(function () {
                $('img#cakeImageFirst:even').fadeOut(1500,
                    function () {
                        var currSrc = $(this).attr('src');
                        var frstImgNexSrc = $(this).next('img#cakeImageSecond').attr('src');
                        $(this).next('img#cakeImageSecond').attr('src', currSrc);
                        $(this).attr("src", frstImgNexSrc);
                        $(this).fadeIn(1000);
                    });
            }, 7000);
            var timedImagesForwardOdd = setInterval(function() {
                $('img#cakeImageFirst:odd').fadeOut(1500,
                    function () {
                        var currSrc = $(this).attr('src');
                        var frstImgNexSrc = $(this).next('img#cakeImageSecond').attr('src');
                        $(this).next('img#cakeImageSecond').attr('src', currSrc);
                        $(this).attr("src", frstImgNexSrc);
                        $(this).fadeIn(1000);
                    });
            }, 13000);
            var timedImagesForwardThirdForwardEven = setInterval(function () {
                $('img#cakeImageThird:even').fadeOut(1500,
                    function () {
                        var currSrc = $(this).attr('src');
                        var frstImgNexSrc = $(this).next('img#cakeImageFourth').attr('src');
                        $(this).next('img#cakeImageFourth').attr('src', currSrc);
                        $(this).attr("src", frstImgNexSrc);
                        $(this).fadeIn(1000);
                    });
            }, 18000);
            var timedImagesThirdForwardOdd = setInterval(function () {
                $('img#cakeImageThird:odd').fadeOut(1500,
                    function () {
                        var currSrc = $(this).attr('src');
                        var frstImgNexSrc = $(this).next('img#cakeImageFourth').attr('src');
                        $(this).next('img#cakeImageFourth').attr('src', currSrc);
                        $(this).attr("src", frstImgNexSrc);
                        $(this).fadeIn(1000);
                    });
            }, 27000);
        });
    })(jQuery);
</script>
